<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>接口 | WoX</title>
    <meta name="description" content="A dynamic loader MVC architecture based on Vue.js development which use web virtual service and web virtual request mode.">
    
    
    <link rel="preload" href="/assets/css/0.styles.9ede7954.css" as="style"><link rel="preload" href="/assets/js/app.061b996e.js" as="script"><link rel="preload" href="/assets/js/7.90ba80e7.js" as="script"><link rel="prefetch" href="/assets/js/10.7460026f.js"><link rel="prefetch" href="/assets/js/11.244422c9.js"><link rel="prefetch" href="/assets/js/12.f3d1644d.js"><link rel="prefetch" href="/assets/js/13.f2f4c1eb.js"><link rel="prefetch" href="/assets/js/14.59528811.js"><link rel="prefetch" href="/assets/js/2.b58a92b8.js"><link rel="prefetch" href="/assets/js/3.d6f7a4c8.js"><link rel="prefetch" href="/assets/js/4.c0e03a07.js"><link rel="prefetch" href="/assets/js/5.207e9a59.js"><link rel="prefetch" href="/assets/js/6.4ae06546.js"><link rel="prefetch" href="/assets/js/8.fb606ae3.js"><link rel="prefetch" href="/assets/js/9.349a50a4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9ede7954.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">WoX</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">简介</a></div><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">API</a></div><div class="nav-item"><a href="/cli/" class="nav-link">脚手架</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">核心插件</a></div> <a href="https://github.com/woxjs/wox" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">简介</a></div><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">API</a></div><div class="nav-item"><a href="/cli/" class="nav-link">脚手架</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">核心插件</a></div> <a href="https://github.com/woxjs/wox" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/api/" class="active sidebar-link">接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#全局api" class="sidebar-link">全局API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#wox-wox" class="sidebar-link">wox.Wox</a></li><li class="sidebar-sub-header"><a href="/api/#wox-decorateinterface" class="sidebar-link">wox.DecorateInterface</a></li><li class="sidebar-sub-header"><a href="/api/#wox-methods" class="sidebar-link">wox.Methods</a></li><li class="sidebar-sub-header"><a href="/api/#wox-http" class="sidebar-link">wox.Http</a></li><li class="sidebar-sub-header"><a href="/api/#wox-interface" class="sidebar-link">wox.Interface</a></li><li class="sidebar-sub-header"><a href="/api/#wox-controller" class="sidebar-link">wox.Controller</a></li><li class="sidebar-sub-header"><a href="/api/#wox-index" class="sidebar-link">wox.Index</a></li><li class="sidebar-sub-header"><a href="/api/#wox-middleware" class="sidebar-link">wox.Middleware</a></li><li class="sidebar-sub-header"><a href="/api/#wox-param" class="sidebar-link">wox.Param</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/#vue扩展对象" class="sidebar-link">Vue扩展对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#vm-app" class="sidebar-link">vm.$app</a></li><li class="sidebar-sub-header"><a href="/api/#vm-get" class="sidebar-link">vm.$get</a></li><li class="sidebar-sub-header"><a href="/api/#vm-post" class="sidebar-link">vm.$post</a></li><li class="sidebar-sub-header"><a href="/api/#vm-put" class="sidebar-link">vm.$put</a></li><li class="sidebar-sub-header"><a href="/api/#vm-del" class="sidebar-link">vm.$del</a></li><li class="sidebar-sub-header"><a href="/api/#vm-redirect" class="sidebar-link">vm.$redirect</a></li><li class="sidebar-sub-header"><a href="/api/#vm-repalce" class="sidebar-link">vm.$repalce</a></li><li class="sidebar-sub-header"><a href="/api/#vm-reload" class="sidebar-link">vm.$reload</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/#vue-扩展指令" class="sidebar-link">Vue 扩展指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#v-redirect" class="sidebar-link">v-redirect</a></li><li class="sidebar-sub-header"><a href="/api/#v-replace" class="sidebar-link">v-replace</a></li><li class="sidebar-sub-header"><a href="/api/#v-reload" class="sidebar-link">v-reload</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/#vue-扩展生命周期" class="sidebar-link">Vue 扩展生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#enter" class="sidebar-link">enter</a></li><li class="sidebar-sub-header"><a href="/api/#leave" class="sidebar-link">leave</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/#虚拟服务对象" class="sidebar-link">虚拟服务对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#app-parser" class="sidebar-link">app.$parser</a></li><li class="sidebar-sub-header"><a href="/api/#app-plugin" class="sidebar-link">app.$plugin</a></li><li class="sidebar-sub-header"><a href="/api/#app-router" class="sidebar-link">app.$router</a></li><li class="sidebar-sub-header"><a href="/api/#app-env" class="sidebar-link">app.$env</a></li><li class="sidebar-sub-header"><a href="/api/#app-vue" class="sidebar-link">app.$vue</a></li><li class="sidebar-sub-header"><a href="/api/#app-fetch" class="sidebar-link">app.$fetch</a></li><li class="sidebar-sub-header"><a href="/api/#app-get" class="sidebar-link">app.$get</a></li><li class="sidebar-sub-header"><a href="/api/#app-post" class="sidebar-link">app.$post</a></li><li class="sidebar-sub-header"><a href="/api/#app-put" class="sidebar-link">app.$put</a></li><li class="sidebar-sub-header"><a href="/api/#app-delete" class="sidebar-link">app.$delete</a></li><li class="sidebar-sub-header"><a href="/api/#app-redirect" class="sidebar-link">app.$redirect</a></li><li class="sidebar-sub-header"><a href="/api/#app-replace" class="sidebar-link">app.$replace</a></li><li class="sidebar-sub-header"><a href="/api/#app-reload" class="sidebar-link">app.$reload</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/#虚拟请求对象" class="sidebar-link">虚拟请求对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#ctx-app" class="sidebar-link">ctx.app</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-req" class="sidebar-link">ctx.req</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-res" class="sidebar-link">ctx.res</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-status" class="sidebar-link">ctx.status</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-id" class="sidebar-link">ctx.id</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-isapi" class="sidebar-link">ctx.isapi</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-bdoy" class="sidebar-link">ctx.bdoy</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-url" class="sidebar-link">ctx.url</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-method" class="sidebar-link">ctx.method</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-path" class="sidebar-link">ctx.path</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-query" class="sidebar-link">ctx.query</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-search" class="sidebar-link">ctx.search</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-host" class="sidebar-link">ctx.host</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-hostname" class="sidebar-link">ctx.hostname</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-protocol" class="sidebar-link">ctx.protocol</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-referer" class="sidebar-link">ctx.referer</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-redirect" class="sidebar-link">ctx.redirect</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-replace" class="sidebar-link">ctx.replace</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-reload" class="sidebar-link">ctx.reload</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-get" class="sidebar-link">ctx.get</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-post" class="sidebar-link">ctx.post</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-put" class="sidebar-link">ctx.put</a></li><li class="sidebar-sub-header"><a href="/api/#ctx-delete" class="sidebar-link">ctx.delete</a></li></ul></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="接口"><a href="#接口" aria-hidden="true" class="header-anchor">#</a> 接口</h1> <p>我们约定下一些特殊的命名：</p> <ul><li><strong>wox</strong> 表示<code>require('@wox/wox)</code>返回的对象，即全局对象。</li> <li><strong>app</strong> 表示<code>new wox()</code>后的对象，即实例化对象，或应用对象。</li> <li><strong>ctx</strong> 表示虚拟请求对象上下文。</li></ul> <h2 id="全局api"><a href="#全局api" aria-hidden="true" class="header-anchor">#</a> 全局API</h2> <h3 id="wox-wox"><a href="#wox-wox" aria-hidden="true" class="header-anchor">#</a> wox.Wox</h3> <p>wox.Wox(configs: object)</p> <p>它是应用对象的母体</p> <p><em>参数：</em></p> <ul><li><strong>configs</strong> <code>.wox.js</code>文件 <a href="/guide/runtime.html#webpack聚合文件-wox-js">配置</a></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">wox<span class="token punctuation">.</span>Wox</span><span class="token punctuation">(</span>configs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>注意：一般我们不会直接使用这个对象，供后期<code>TypeScript</code>化时候引用。</p></blockquote> <h3 id="wox-decorateinterface"><a href="#wox-decorateinterface" aria-hidden="true" class="header-anchor">#</a> wox.DecorateInterface</h3> <p>它是注解的基本类，主要提供<code>set</code>与<code>get</code>方法。 参考：<a href="/guide/runtime.html#decorate-array">这里</a></p> <h3 id="wox-methods"><a href="#wox-methods" aria-hidden="true" class="header-anchor">#</a> wox.Methods</h3> <p>虚拟请求的方法名，默认<code>['Get', 'Post', 'Put', 'Delete']</code>四种。</p> <h3 id="wox-http"><a href="#wox-http" aria-hidden="true" class="header-anchor">#</a> wox.Http</h3> <p>虚拟请求注解方法集合：</p> <ul><li><strong>wox.Http.Get(url)</strong> get请求</li> <li><strong>wox.Http.Post(url)</strong> post请求</li> <li><strong>wox.Http.Put(url)</strong> put请求</li> <li><strong>wox.Http.delete(url)</strong> delete请求</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@Http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="wox-interface"><a href="#wox-interface" aria-hidden="true" class="header-anchor">#</a> wox.Interface</h3> <p>自定义注解集合体，参考：<a href="/guide/runtime.html#decorate-array">这里</a> 自定义注解</p> <h3 id="wox-controller"><a href="#wox-controller" aria-hidden="true" class="header-anchor">#</a> wox.Controller</h3> <p>wox.Controller(prefix: string)</p> <p>注解Controller。</p> <p><em>参数：</em></p> <ul><li><strong>prefix</strong> prefix前缀路由</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="wox-index"><a href="#wox-index" aria-hidden="true" class="header-anchor">#</a> wox.Index</h3> <p>wox.Index(i: number)</p> <p>注解索引，用来调整每个Controller加载的顺序，按顺序排列。</p> <p><em>参数：</em></p> <ul><li><strong>i</strong> 索引数值默认99。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@<span class="token function">Index</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
@<span class="token function">Index</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="wox-middleware"><a href="#wox-middleware" aria-hidden="true" class="header-anchor">#</a> wox.Middleware</h3> <p>wox.Middleware(...midwares: Middleware)</p> <p>中间件集合，表示这个路由所需要进过的中间件。</p> <p><em>参数：</em></p> <ul><li><strong>midwares</strong> <a href="https://hijiangtao.github.io/2017/11/10/Mastering-Koa-Middleware/" target="_blank" rel="noopener noreferrer">中间件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@Http<span class="token punctuation">.</span>Get
@<span class="token function">Middleware</span><span class="token punctuation">(</span>Mid1<span class="token punctuation">)</span>
@<span class="token function">Middleware</span><span class="token punctuation">(</span>Mid2<span class="token punctuation">)</span>
@<span class="token function">Middleware</span><span class="token punctuation">(</span>Mid3<span class="token punctuation">,</span> Mid4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>中间件可以无限堆叠，按上下文写入顺序执行。</p> <h3 id="wox-param"><a href="#wox-param" aria-hidden="true" class="header-anchor">#</a> wox.Param</h3> <p>wox.Param(name: string, midw: Middleware)</p> <p>param是中间件的特殊用法。具体看<a href="http://17koa.com/koa-generator-examples/http/get/params.html" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>@Controller
@<span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token constant">MID1</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
<span class="token comment">// 获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>注意：只能使用在Controller上</p></blockquote> <h2 id="vue扩展对象"><a href="#vue扩展对象" aria-hidden="true" class="header-anchor">#</a> Vue扩展对象</h2> <h3 id="vm-app"><a href="#vm-app" aria-hidden="true" class="header-anchor">#</a> vm.$app</h3> <p><code>this.$app</code>返回app对象</p> <h3 id="vm-get"><a href="#vm-get" aria-hidden="true" class="header-anchor">#</a> vm.$get</h3> <p><code>this.$get</code> 调用虚拟请求</p> <h3 id="vm-post"><a href="#vm-post" aria-hidden="true" class="header-anchor">#</a> vm.$post</h3> <p><code>this.$post</code> 调用虚拟请求</p> <h3 id="vm-put"><a href="#vm-put" aria-hidden="true" class="header-anchor">#</a> vm.$put</h3> <p><code>this.$put</code> 调用虚拟请求</p> <h3 id="vm-del"><a href="#vm-del" aria-hidden="true" class="header-anchor">#</a> vm.$del</h3> <p><code>this.$del</code> 调用虚拟请求</p> <h3 id="vm-redirect"><a href="#vm-redirect" aria-hidden="true" class="header-anchor">#</a> vm.$redirect</h3> <p><code>vm.$redirect(url: string, sync: boolean)</code></p> <p><em>参数：</em></p> <ul><li><strong>url</strong> 跳转地址</li> <li><strong>sync</strong> 是否同步跳转</li></ul> <h3 id="vm-repalce"><a href="#vm-repalce" aria-hidden="true" class="header-anchor">#</a> vm.$repalce</h3> <p><code>vm.$repalce(url: string, sync: boolean)</code></p> <p><em>参数：</em></p> <ul><li><strong>url</strong> 替换地址</li> <li><strong>sync</strong> 是否同步跳转</li></ul> <h3 id="vm-reload"><a href="#vm-reload" aria-hidden="true" class="header-anchor">#</a> vm.$reload</h3> <p><code>vm.$reload()</code></p> <p>重载路由。</p> <h2 id="vue-扩展指令"><a href="#vue-扩展指令" aria-hidden="true" class="header-anchor">#</a> Vue 扩展指令</h2> <h3 id="v-redirect"><a href="#v-redirect" aria-hidden="true" class="header-anchor">#</a> v-redirect</h3> <p><code>v-redirect:sync=&quot;url&quot;</code> 或者 <code>v-redirect=&quot;url&quot;</code></p> <p>跳转地址</p> <h3 id="v-replace"><a href="#v-replace" aria-hidden="true" class="header-anchor">#</a> v-replace</h3> <p><code>v-replace:sync=&quot;url&quot;</code> 或者 <code>v-replace=&quot;url&quot;</code></p> <p>替换地址</p> <h3 id="v-reload"><a href="#v-reload" aria-hidden="true" class="header-anchor">#</a> v-reload</h3> <p><code>v-replace</code></p> <p>重载路由。</p> <h2 id="vue-扩展生命周期"><a href="#vue-扩展生命周期" aria-hidden="true" class="header-anchor">#</a> Vue 扩展生命周期</h2> <h3 id="enter"><a href="#enter" aria-hidden="true" class="header-anchor">#</a> enter</h3> <p>在webview中注入了<code>enter</code>生命周期</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{abc}} - {{test}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'IndexPage'</span><span class="token punctuation">,</span>
    <span class="token function">enter</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'enter'</span><span class="token punctuation">,</span> ctx<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      abc<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
      test<span class="token punctuation">:</span> String
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="leave"><a href="#leave" aria-hidden="true" class="header-anchor">#</a> leave</h3> <p>在webview中注入了<code>leave</code>生命周期</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{abc}} - {{test}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'IndexPage'</span><span class="token punctuation">,</span>
    <span class="token function">leave</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'leave'</span><span class="token punctuation">,</span> ctx<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      abc<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
      test<span class="token punctuation">:</span> String
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="虚拟服务对象"><a href="#虚拟服务对象" aria-hidden="true" class="header-anchor">#</a> 虚拟服务对象</h2> <h3 id="app-parser"><a href="#app-parser" aria-hidden="true" class="header-anchor">#</a> app.$parser</h3> <p>我们只需要关注一个对象<code>configs</code>，用来提起<code>.wox.js</code>中的数据。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span>$parser<span class="token punctuation">.</span>configs<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="app-plugin"><a href="#app-plugin" aria-hidden="true" class="header-anchor">#</a> app.$plugin</h3> <p>插件树对象。管理插件。</p> <h4 id="app-plugin-setdecorate-clazz"><a href="#app-plugin-setdecorate-clazz" aria-hidden="true" class="header-anchor">#</a> app.$plugin.setDecorate(clazz)</h4> <p>添加一个注解</p> <h4 id="app-plugin-set-name-target"><a href="#app-plugin-set-name-target" aria-hidden="true" class="header-anchor">#</a> app.$plugin.set(name, target)</h4> <p>添加一个名为<code>name</code>的插件<code>target</code>对象到插件树中</p> <h4 id="app-plugin-get-name"><a href="#app-plugin-get-name" aria-hidden="true" class="header-anchor">#</a> app.$plugin.get(name)</h4> <p>获取一个名为<code>name</code>的插件</p> <h4 id="app-plugin-getconfig-name"><a href="#app-plugin-getconfig-name" aria-hidden="true" class="header-anchor">#</a> app.$plugin.getConfig(name)</h4> <p>获取一个名为<code>name</code>的插件的配置参数</p> <h3 id="app-router"><a href="#app-router" aria-hidden="true" class="header-anchor">#</a> app.$router</h3> <p>app对象的顶层路由对象，具体参考<a href="https://github.com/ZijianHe/koa-router" target="_blank" rel="noopener noreferrer">koa-router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="app-env"><a href="#app-env" aria-hidden="true" class="header-anchor">#</a> app.$env</h3> <p>当前的环境变量</p> <h3 id="app-vue"><a href="#app-vue" aria-hidden="true" class="header-anchor">#</a> app.$vue</h3> <p>Vue实例化后被挂载到app上到对象，也就是根<code>vm</code></p> <h3 id="app-fetch"><a href="#app-fetch" aria-hidden="true" class="header-anchor">#</a> app.$fetch</h3> <p><code>app.$fetch(options)</code></p> <p>通用获取虚拟请求的方法</p> <p><em>参数：</em></p> <ul><li><strong>url</strong> <code>string</code> 地址</li> <li><strong>method</strong> <code>string</code> 请求方式</li> <li><strong>body</strong> <code>any</code> 请求传递数据</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">$fetch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span>
  method<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
  body<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="app-get"><a href="#app-get" aria-hidden="true" class="header-anchor">#</a> app.$get</h3> <p>同 <a href="#vm-get">vm.$get</a></p> <h3 id="app-post"><a href="#app-post" aria-hidden="true" class="header-anchor">#</a> app.$post</h3> <p>同 <a href="#vm-post">vm.$post</a></p> <h3 id="app-put"><a href="#app-put" aria-hidden="true" class="header-anchor">#</a> app.$put</h3> <p>同 <a href="#vm-put">vm.$put</a></p> <h3 id="app-delete"><a href="#app-delete" aria-hidden="true" class="header-anchor">#</a> app.$delete</h3> <p>同 <a href="#vm-delete">vm.$del</a></p> <h3 id="app-redirect"><a href="#app-redirect" aria-hidden="true" class="header-anchor">#</a> app.$redirect</h3> <p>同 <a href="#vm-redirect">vm.$redirect</a></p> <h3 id="app-replace"><a href="#app-replace" aria-hidden="true" class="header-anchor">#</a> app.$replace</h3> <p>同 <a href="#vm-replace">vm.$replace</a></p> <h3 id="app-reload"><a href="#app-reload" aria-hidden="true" class="header-anchor">#</a> app.$reload</h3> <p>同 <a href="#vm-reload">vm.$reload</a></p> <h2 id="虚拟请求对象"><a href="#虚拟请求对象" aria-hidden="true" class="header-anchor">#</a> 虚拟请求对象</h2> <h3 id="ctx-app"><a href="#ctx-app" aria-hidden="true" class="header-anchor">#</a> ctx.app</h3> <p>app对象</p> <h3 id="ctx-req"><a href="#ctx-req" aria-hidden="true" class="header-anchor">#</a> ctx.req</h3> <p>request 对象</p> <h3 id="ctx-res"><a href="#ctx-res" aria-hidden="true" class="header-anchor">#</a> ctx.res</h3> <p>response 对象</p> <h3 id="ctx-status"><a href="#ctx-status" aria-hidden="true" class="header-anchor">#</a> ctx.status</h3> <p>状态码</p> <h3 id="ctx-id"><a href="#ctx-id" aria-hidden="true" class="header-anchor">#</a> ctx.id</h3> <p>虚拟请求ID</p> <h3 id="ctx-isapi"><a href="#ctx-isapi" aria-hidden="true" class="header-anchor">#</a> ctx.isapi</h3> <p>是否是虚拟请求</p> <h3 id="ctx-bdoy"><a href="#ctx-bdoy" aria-hidden="true" class="header-anchor">#</a> ctx.bdoy</h3> <p>结果返回体</p> <h3 id="ctx-url"><a href="#ctx-url" aria-hidden="true" class="header-anchor">#</a> ctx.url</h3> <p>当前请求url</p> <h3 id="ctx-method"><a href="#ctx-method" aria-hidden="true" class="header-anchor">#</a> ctx.method</h3> <p>当前请求方式</p> <h3 id="ctx-path"><a href="#ctx-path" aria-hidden="true" class="header-anchor">#</a> ctx.path</h3> <p>当前请求路径</p> <h3 id="ctx-query"><a href="#ctx-query" aria-hidden="true" class="header-anchor">#</a> ctx.query</h3> <p>当前请求参数</p> <h3 id="ctx-search"><a href="#ctx-search" aria-hidden="true" class="header-anchor">#</a> ctx.search</h3> <p>当前请求search</p> <h3 id="ctx-host"><a href="#ctx-host" aria-hidden="true" class="header-anchor">#</a> ctx.host</h3> <p>当前请求host</p> <h3 id="ctx-hostname"><a href="#ctx-hostname" aria-hidden="true" class="header-anchor">#</a> ctx.hostname</h3> <p>当前请求hostname</p> <h3 id="ctx-protocol"><a href="#ctx-protocol" aria-hidden="true" class="header-anchor">#</a> ctx.protocol</h3> <p>当前请求协议</p> <h3 id="ctx-referer"><a href="#ctx-referer" aria-hidden="true" class="header-anchor">#</a> ctx.referer</h3> <p>当前请求来源</p> <h3 id="ctx-redirect"><a href="#ctx-redirect" aria-hidden="true" class="header-anchor">#</a> ctx.redirect</h3> <p>同 <a href="#app-redirect">app.$redirect</a></p> <h3 id="ctx-replace"><a href="#ctx-replace" aria-hidden="true" class="header-anchor">#</a> ctx.replace</h3> <p>同 <a href="#app-replace">app.$replace</a></p> <h3 id="ctx-reload"><a href="#ctx-reload" aria-hidden="true" class="header-anchor">#</a> ctx.reload</h3> <p>同 <a href="#app-reload">app.$reload</a></p> <h3 id="ctx-get"><a href="#ctx-get" aria-hidden="true" class="header-anchor">#</a> ctx.get</h3> <p>同 <a href="#app-get">app.$get</a></p> <h3 id="ctx-post"><a href="#ctx-post" aria-hidden="true" class="header-anchor">#</a> ctx.post</h3> <p>同 <a href="#app-post">app.$post</a></p> <h3 id="ctx-put"><a href="#ctx-put" aria-hidden="true" class="header-anchor">#</a> ctx.put</h3> <p>同 <a href="#app-put">app.$put</a></p> <h3 id="ctx-delete"><a href="#ctx-delete" aria-hidden="true" class="header-anchor">#</a> ctx.delete</h3> <p>同 <a href="#app-delete">app.$delete</a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/woxjs/wox/edit/master/docs/api/README.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.061b996e.js" defer></script><script src="/assets/js/7.90ba80e7.js" defer></script>
  </body>
</html>
